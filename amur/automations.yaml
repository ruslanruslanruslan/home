- alias: moving_livingroom
  initial_state: 'on'
  trigger:
    - platform: state
      entity_id: binary_sensor.livingroom_motion_1_motion
      to: 'on'
    - platform: state
      entity_id: binary_sensor.livingroom_motion_1_motion
      to: 'off'
      for:
        minutes: 1
  action:
    - service: "light.turn_{{ trigger.to_state.state }}"
      target:
        entity_id: light.livingroom_strip
  mode: single


- alias: moving_bedroom
  initial_state: 'on'
  trigger:
    - platform: state
      entity_id: binary_sensor.bedroom_motion_1_motion
      to: 'on'
    - platform: state
      entity_id: binary_sensor.bedroom_motion_1_motion
      to: 'off'
      for:
        minutes: 1
  action:
    - service: "light.turn_{{ trigger.to_state.state }}"
      target:
        entity_id: light.bedroom_strip
  mode: single


- alias: moving_hallway
  initial_state: 'on'
  trigger:
    - platform: state
      entity_id:
        - binary_sensor.hallway_motion_1_motion
        - binary_sensor.hallway_motion_2_motion
      to: 'on'
    - platform: state
      entity_id:
        - binary_sensor.hallway_motion_1_motion
        - binary_sensor.hallway_motion_2_motion
      to: 'off'
      for:
        minutes: 3
  action:
    - service: "light.turn_{{ trigger.to_state.state }}"
      target:
        entity_id: light.hallway_lights_light
  mode: single


- alias: moving_walkthrough
  initial_state: 'on'
  trigger:
    - platform: state
      entity_id: binary_sensor.walkthrough_motion_1_motion
      to: 'on'
    - platform: state
      entity_id: binary_sensor.walkthrough_motion_1_motion
      to: 'off'
      for:
        seconds: 1
  action:
    - service: "light.turn_{{ trigger.to_state.state }}"
      target:
        entity_id: light.walkthrough_lights_light
  mode: single


- alias: moving_kitchen_1
  initial_state: 'on'
  trigger:
    - platform: state
      entity_id: binary_sensor.kitchen_motion_1_motion
      to: 'on'
    - platform: state
      entity_id: binary_sensor.kitchen_motion_1_motion
      to: 'off'
      for:
        minutes: 1
  action:
    - service: "light.turn_{{ trigger.to_state.state }}"
      target:
        entity_id: light.kitchen_relay_1_channel_1
  mode: single

- alias: moving_kitchen_2
  initial_state: 'on'
  trigger:
    - platform: state
      entity_id: binary_sensor.kitchen_motion_2_motion
      to: 'on'
    - platform: state
      entity_id:
        - binary_sensor.kitchen_motion_1_motion
        - binary_sensor.kitchen_motion_2_motion
      to: 'off'
      for:
        minutes: 5
  action:
    - service: "light.turn_{{ trigger.to_state.state }}"
      target:
        entity_id: light.kitchen_lights_light
  mode: single


- alias: moving_bathroom
  initial_state: 'on'
  trigger:
    - platform: state
      entity_id: binary_sensor.bathroom_motion_1_motion
      to: 'on'
    - platform: state
      entity_id: binary_sensor.bathroom_motion_1_motion
      to: 'off'
      for:
        minutes: 5
  action:
    - service: "light.turn_{{ trigger.to_state.state }}"
      target:
        entity_id: light.bathroom_lights_light
  mode: single


- alias: moving_toilet
  initial_state: 'on'
  trigger:
    - platform: state
      entity_id: binary_sensor.toilet_motion_1_motion
      to: 'on'
    - platform: state
      entity_id: binary_sensor.toilet_motion_1_motion
      to: 'off'
      for:
        minutes: 5
  action:
    - service: "light.turn_{{ trigger.to_state.state }}"
      target:
        entity_id: light.toilet_lights_light
    - service: "switch.turn_{{ trigger.to_state.state }}"
      target:
        entity_id: switch.toilet_relay_1_channel_2
  mode: single
